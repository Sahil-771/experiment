<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Milk Dairy Record</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>

<h1>Milk Dairy Record</h1>
<div class="card">
    <div class="filter-header" onclick="toggleFilter()">
        <span>Filter Records</span>
        <span id="arrow">â–¼</span>
    </div>

    <div class="filter-body" id="filterBody">
        <a href="/filter" class="filter-btn">
            Go to Filter Page â†’
        </a>
    </div>
</div>


<div class="card">
    <h2>Enter Data</h2>

    <form method="POST">
        <div class="form-row">
            <div>
                <label>Customer ID</label>
                <input type="number" name="customer_id" placeholder="Enter Customer ID" required>
            </div>

            <div>
                <label>Amount (â‚¹)</label>
                <input type="number" name="amount" placeholder="Enter Amount" required>
            </div>

            <button type="submit">Submit</button>
        </div>
    </form>
</div>

<div class="card">
    <h2>Recent Entries</h2>

<table>
    <tr>
        <th>ID</th>
        <th>Customer ID</th>
        <th>Amount (â‚¹)</th>
        <th>Date</th>
        <th>Action</th>
    </tr>

    {% for row in records %}
    <tr>
        <td>{{ row[0] }}</td>
        <td>{{ row[1] }}</td>
        <td>{{ row[2] }}</td>
        <td>{{ row[3][:10] }}</td>
        <td>
            <form method="POST" action="/delete/{{ row[0] }}"
                  onsubmit="return confirm('Are you sure you want to delete this entry?');">
                <button class="delete-btn" type="submit">ðŸ—‘ Delete</button>
            </form>
        </td>
    </tr>
    {% endfor %}
</table>

</div>

<script>
function toggleFilter() {
    const body = document.getElementById("filterBody");
    const arrow = document.getElementById("arrow");

    if (body.style.maxHeight) {
        body.style.maxHeight = null;
        arrow.innerText = "â–¼";
    } else {
        body.style.maxHeight = body.scrollHeight + "px";
        arrow.innerText = "â–²";
    }
}
</script>


</body>
</html>
